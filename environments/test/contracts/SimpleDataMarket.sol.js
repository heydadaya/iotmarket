// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[],"name":"getTotalRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"unregister","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getTime","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getRecord","outputs":[{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"rindex","type":"uint256"}],"name":"getRecordAtIndex","outputs":[{"name":"key","type":"address"},{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"price","type":"uint256"}],"name":"register","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"numRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"price","type":"uint256"}],"name":"update","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"isRegistered","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":true,"inputs":[],"name":"TIME_TO_LIVE","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"FREQUENCY_TO_CHECK_EXPIRATION","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getOwner","outputs":[{"name":"","type":"address"}],"type":"function"}],
    binary: "60606040526301e13380600355610e1060045542600555611147806100246000396000f3606060405236156100985760e060020a60003504630aeacb5e811461009e5780632ec2c246146100b45780634b70cec414610288578063617fba04146102b05780637bcd7fad1461034f578063aee7cd9314610467578063b5d1990d146106f7578063b768ba8a14610700578063c3c5a5471461081b578063c3cecfdc14610849578063de5c48e014610852578063fa5441611461085b575b6108815b565b6001545b60408051918252519081900360200190f35b600160a060020a0360043581811660009081526020819052604081205461088193908116339091161415610ad15760408120805460028083018054600160a060020a031993909316845560018481018690559085905560038401805486825593959390929181161561010002600019011604601f819010610ad557505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610b0757505b5050600681018054600160a060020a03191690556000600790910155600180546000199081019091556002805490918101908110156100025750805460008290527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd810154600160a060020a031691908390811015610002575060008051602061112783398151915283018054600160a060020a0319169092179091558054829160009182919084908110156100025750815260008051602061112783398151915283018190546101009190910a9004600160a060020a03168152602081019190915260400160002060029081019190915580546000198101808355909190828015829011610acc57818360005260206000209182019101610acc9190610aef565b6100a2600435600160a060020a0381166000908152602081905260409020600101545b919050565b6108836004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485949391830182828015610b505780601f10610b2557610100808354040283529160200191610b50565b6109876004356000600060006020604051908101604052806000815260200150600060206040519081016040528060008152602001506000600060006000600050600060026000508c8154811015610002575080546000805160206111278339815191528e0154600160a060020a03169092526020929092526040909220918b908110156100025790600052602060002090016000604080519254845460018681015460038801805460206002948216156101009081026000190190921694909404601f810185900485028a0185019097528689529690960a909304600160a060020a039081169f50919091169c50909a50830182828015610c445780601f10610c1957610100808354040283529160200191610c44565b60408051602060248035600481810135601f8101859004850286018501909652858552610881958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a435915050600454600554600091829142031115610d0d57426005555b600154821015610d0d57600280546000918291859081101561000257505050600080516020611127833981519152830154600160a060020a03168152602081905260409020600181015460035491925042031115610d0d576002805460009182918590811015610002579082526000805160206111278339815191520181905461010091820a9004600160a060020a03168252602082019290925260400160009081208054600160a060020a0319168155600181810183905560028281018490556003830180548582559395909392831615026000190190911604601f819010610d8b57505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610da957505b5050600681018054600160a060020a0319169055600060079091015560015460028054909160001901908110156100025750600154815460008390527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd9190910154600160a060020a031691908490811015610002575060008051602061112783398151915284018054600160a060020a03191690921790915580546000198101808355909190828015829011610dc757818360005260206000209182019101610dc79190610aef565b6100a260015481565b60408051602060248035600481810135601f8101859004850286018501909652858552610881958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a435915050600160a060020a038681166000908152602081905260409020548116339091161415610acc576040600090812086516003919091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918a0190839010610fed57805160ff19168380011785555b5061101d929150610aef565b610a9b600435600160a060020a0381166000908152602081905260408120600101548114156110f0576102ab565b6100a260035481565b6100a260045481565b610aaf600435600160a060020a03818116600090815260208190526040902054166102ab565b005b6040518088600160a060020a031681526020018781526020018060200186151581526020018060200185600160a060020a031681526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109195780820380516001836020036101000a031916815260200191505b508381038252868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109725780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b6040518089600160a060020a0316815260200188600160a060020a031681526020018781526020018060200186151581526020018060200185600160a060020a031681526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a2c5780820380516001836020036101000a031916815260200191505b508381038252868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a855780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505050505b5050565b601f01602090049060005260206000209081019061013191905b80821115610b035760008155600101610aef565b5090565b601f0160209004906000526020600020908101906101669190610aef565b820191906000526020600020905b815481529060010190602001808311610b3357829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959b5060ff939093169950909250830182828015610bed5780601f10610bc257610100808354040283529160200191610bed565b820191906000526020600020905b815481529060010190602001808311610bd057829003601f168201915b5050505060068301546007840154929650600160a060020a031694509092505050919395979092949650565b820191906000526020600020905b815481529060010190602001808311610c2757829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959b5060ff939093169950909250830182828015610ce15780601f10610cb657610100808354040283529160200191610ce1565b820191906000526020600020905b815481529060010190602001808311610cc457829003601f168201915b5050505060068301546007840154929650600160a060020a031694509092505050919395975091939597565b600160a060020a0388166000908152602081905260408120600101541415610ddb576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610e09576000839052610e0990600080516020611127833981519152908101908301610aef565b601f0160209004906000526020600020908101906105f89190610aef565b601f01602090049060005260206000209081019061062d9190610aef565b505060018054600019019055506105129050565b610fe3600034111561009c5760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548b9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a03891660009081526020818152604082208a51600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928c0190839010610ec757805160ff19168380011785555b50610ef7929150610aef565b82800160010185558215610ebb579182015b82811115610ebb578251826000505591602001919060010190610ed9565b5050600160a060020a038816600090815260208181526040822060048101805460ff19168a17905560050180548851828552938390209193601f600260001960018516156101000201909316929092048201849004830193909291908a0190839010610f7657805160ff19168380011785555b50610fa6929150610aef565b82800160010185558215610f6a579182015b82811115610f6a578251826000505591602001919060010190610f88565b5050600160a060020a0388166000908152602081905260409020600681018054600160a060020a0319168617905560070183905560018054810190555b5050505050505050565b8280016001018555821561080f579182015b8281111561080f578251826000505591602001919060010190610fff565b5050600160a060020a038616600090815260208181526040822060048101805460ff19168817905585516005909101805481855293839020909360026101006001831615026000190190911604601f90810184900482019388019083901061109857805160ff19168380011785555b506110c8929150610aef565b8280016001018555821561108c579182015b8281111561108c5782518260005055916020019190600101906110aa565b5050600160a060020a0386166000908152602081905260409020600701819055505050505050565b600354600160a060020a0383166000908152602081905260409020600101544203111561111f575060006102ab565b5060016102ab56405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace",
    unlinked_binary: "60606040526301e13380600355610e1060045542600555611147806100246000396000f3606060405236156100985760e060020a60003504630aeacb5e811461009e5780632ec2c246146100b45780634b70cec414610288578063617fba04146102b05780637bcd7fad1461034f578063aee7cd9314610467578063b5d1990d146106f7578063b768ba8a14610700578063c3c5a5471461081b578063c3cecfdc14610849578063de5c48e014610852578063fa5441611461085b575b6108815b565b6001545b60408051918252519081900360200190f35b600160a060020a0360043581811660009081526020819052604081205461088193908116339091161415610ad15760408120805460028083018054600160a060020a031993909316845560018481018690559085905560038401805486825593959390929181161561010002600019011604601f819010610ad557505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610b0757505b5050600681018054600160a060020a03191690556000600790910155600180546000199081019091556002805490918101908110156100025750805460008290527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd810154600160a060020a031691908390811015610002575060008051602061112783398151915283018054600160a060020a0319169092179091558054829160009182919084908110156100025750815260008051602061112783398151915283018190546101009190910a9004600160a060020a03168152602081019190915260400160002060029081019190915580546000198101808355909190828015829011610acc57818360005260206000209182019101610acc9190610aef565b6100a2600435600160a060020a0381166000908152602081905260409020600101545b919050565b6108836004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485949391830182828015610b505780601f10610b2557610100808354040283529160200191610b50565b6109876004356000600060006020604051908101604052806000815260200150600060206040519081016040528060008152602001506000600060006000600050600060026000508c8154811015610002575080546000805160206111278339815191528e0154600160a060020a03169092526020929092526040909220918b908110156100025790600052602060002090016000604080519254845460018681015460038801805460206002948216156101009081026000190190921694909404601f810185900485028a0185019097528689529690960a909304600160a060020a039081169f50919091169c50909a50830182828015610c445780601f10610c1957610100808354040283529160200191610c44565b60408051602060248035600481810135601f8101859004850286018501909652858552610881958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a435915050600454600554600091829142031115610d0d57426005555b600154821015610d0d57600280546000918291859081101561000257505050600080516020611127833981519152830154600160a060020a03168152602081905260409020600181015460035491925042031115610d0d576002805460009182918590811015610002579082526000805160206111278339815191520181905461010091820a9004600160a060020a03168252602082019290925260400160009081208054600160a060020a0319168155600181810183905560028281018490556003830180548582559395909392831615026000190190911604601f819010610d8b57505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610da957505b5050600681018054600160a060020a0319169055600060079091015560015460028054909160001901908110156100025750600154815460008390527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd9190910154600160a060020a031691908490811015610002575060008051602061112783398151915284018054600160a060020a03191690921790915580546000198101808355909190828015829011610dc757818360005260206000209182019101610dc79190610aef565b6100a260015481565b60408051602060248035600481810135601f8101859004850286018501909652858552610881958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a435915050600160a060020a038681166000908152602081905260409020548116339091161415610acc576040600090812086516003919091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918a0190839010610fed57805160ff19168380011785555b5061101d929150610aef565b610a9b600435600160a060020a0381166000908152602081905260408120600101548114156110f0576102ab565b6100a260035481565b6100a260045481565b610aaf600435600160a060020a03818116600090815260208190526040902054166102ab565b005b6040518088600160a060020a031681526020018781526020018060200186151581526020018060200185600160a060020a031681526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109195780820380516001836020036101000a031916815260200191505b508381038252868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109725780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390f35b6040518089600160a060020a0316815260200188600160a060020a031681526020018781526020018060200186151581526020018060200185600160a060020a031681526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a2c5780820380516001836020036101000a031916815260200191505b508381038252868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a855780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b505050505b5050565b601f01602090049060005260206000209081019061013191905b80821115610b035760008155600101610aef565b5090565b601f0160209004906000526020600020908101906101669190610aef565b820191906000526020600020905b815481529060010190602001808311610b3357829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959b5060ff939093169950909250830182828015610bed5780601f10610bc257610100808354040283529160200191610bed565b820191906000526020600020905b815481529060010190602001808311610bd057829003601f168201915b5050505060068301546007840154929650600160a060020a031694509092505050919395979092949650565b820191906000526020600020905b815481529060010190602001808311610c2757829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959b5060ff939093169950909250830182828015610ce15780601f10610cb657610100808354040283529160200191610ce1565b820191906000526020600020905b815481529060010190602001808311610cc457829003601f168201915b5050505060068301546007840154929650600160a060020a031694509092505050919395975091939597565b600160a060020a0388166000908152602081905260408120600101541415610ddb576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610e09576000839052610e0990600080516020611127833981519152908101908301610aef565b601f0160209004906000526020600020908101906105f89190610aef565b601f01602090049060005260206000209081019061062d9190610aef565b505060018054600019019055506105129050565b610fe3600034111561009c5760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548b9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a03891660009081526020818152604082208a51600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928c0190839010610ec757805160ff19168380011785555b50610ef7929150610aef565b82800160010185558215610ebb579182015b82811115610ebb578251826000505591602001919060010190610ed9565b5050600160a060020a038816600090815260208181526040822060048101805460ff19168a17905560050180548851828552938390209193601f600260001960018516156101000201909316929092048201849004830193909291908a0190839010610f7657805160ff19168380011785555b50610fa6929150610aef565b82800160010185558215610f6a579182015b82811115610f6a578251826000505591602001919060010190610f88565b5050600160a060020a0388166000908152602081905260409020600681018054600160a060020a0319168617905560070183905560018054810190555b5050505050505050565b8280016001018555821561080f579182015b8281111561080f578251826000505591602001919060010190610fff565b5050600160a060020a038616600090815260208181526040822060048101805460ff19168817905585516005909101805481855293839020909360026101006001831615026000190190911604601f90810184900482019388019083901061109857805160ff19168380011785555b506110c8929150610aef565b8280016001018555821561108c579182015b8281111561108c5782518260005055916020019190600101906110aa565b5050600160a060020a0386166000908152602081905260409020600701819055505050505050565b600354600160a060020a0383166000908152602081905260409020600101544203111561111f575060006102ab565b5060016102ab56405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace",
    address: "0xc87da247178b8adda5b232f11e4e2a8532ecc7fb",
    generated_with: "2.0.9",
    contract_name: "SimpleDataMarket"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.SimpleDataMarket = Contract;
  }

})();
