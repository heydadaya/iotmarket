// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[],"name":"getTotalRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"name":"update","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getTime","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_seller","type":"address"}],"name":"toggleActive","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"withdraw","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getRecord","outputs":[{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"_deal","type":"address"},{"name":"_buyer","type":"address"}],"name":"checkAccess","outputs":[{"name":"access","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_deal","type":"address"},{"name":"_buyer","type":"address"}],"name":"buyAccess","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"rindex","type":"uint256"}],"name":"getRecordAtIndex","outputs":[{"name":"key","type":"address"},{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"numRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"name":"register","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"isRegistered","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":true,"inputs":[],"name":"TIME_TO_LIVE","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"FREQUENCY_TO_CHECK_EXPIRATION","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getOwner","outputs":[{"name":"","type":"address"}],"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"text","type":"string"}],"name":"Logging","type":"event"}],
    binary: "60606040526301e13380600355610e1060045542600555611180806100246000396000f3606060405236156100b95760e060020a60003504630aeacb5e81146100bf5780634806fa6b146100d55780634b70cec414610203578063515d68401461022b57806351cff8d914610273578063617fba04146102d157806362e1f745146103765780637629c4fb146103b95780637bcd7fad146103ea578063b5d1990d1461052f578063c29777fa14610538578063c3c5a547146107d9578063c3cecfdc14610807578063de5c48e014610810578063fa54416114610819575b61083f5b565b6001545b60408051918252519081900360200190f35b60408051602060248035600481810135601f810185900485028601850190965285855261083f958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a038781166000908152602081905260409020548116339091161415610ad4576040600090812087516003919091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918b0190839010610add57805160ff19168380011785555b50610b0d9291505b80821115610b8c57600081556001016101ef565b6100c3600435600160a060020a0381166000908152602081905260409020600101545b919050565b600160a060020a036004358181166000908152602081905260409020805461083f9390811633909116141561026f5760048101805460ff81161560ff199091161790555b5050565b600160a060020a0360043581811660009081526020819052604081205461083f9390811633909116141561026f576040808220600a018054908390559051909133600160a060020a031691839082818181858883f150505050505050565b6108416004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485948594909392909190830182828015610beb5780601f10610bc057610100808354040283529160200191610beb565b61094c6004356024355b600160a060020a0382811660009081526020818152604080832093851683526009840190915281205490919080831415610cca57610002565b61083f600435602435600160a060020a038216600090815260208190526040902060088101543414610ce257610002565b61096060043560006000600060206040519081016040528060008152602001506000602060405190810160405280600081526020015060006000600060006000600050600060026000508d8154811015610002575080546000805160206111608339815191528f0154600160a060020a03169092526020929092526040909220918c9081101561000257906000526020600020900160009054906101000a9004600160a060020a0316995089508060000160009054906101000a9004600160a060020a031698508850806001016000505497508750806003016000508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d705780601f10610d4557610100808354040283529160200191610d70565b6100c360015481565b60408051602060248035600481810135601f810185900485028601850190965285855261083f958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600454600554600091829142031115610e4557426005555b600154821015610e4557600280546000918291859081101561000257505050600080516020611160833981519152830154600160a060020a03168152602081905260409020600181015460035491925042031115610e45576002805460009182918590811015610002579082526000805160206111608339815191520181905461010091820a9004600160a060020a03168252602082019290925260400160009081208054600160a060020a0319168155600181810183905560028281018490556003830180548582559395909392831615026000190190911604601f819010610ec357505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610ee157505b5050600681018054600160a060020a031916905560006007820181905560088201819055600a9091015560015460028054909160001901908110156100025750600154815460008390527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd9190910154600160a060020a031691908490811015610002575060008051602061116083398151915284018054600160a060020a03191690921790915580546000198101808355909190828015829011610eff57818360005260206000209182019101610eff91906101ef565b61094c600435600160a060020a03811660009081526020819052604081206001015481141561112957610226565b6100c360035481565b6100c360045481565b610a7b600435600160a060020a0381811660009081526020819052604090205416610226565b005b6040518089600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108dd5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109365780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b604051808a600160a060020a0316815260200189600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a0b5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a645780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190555b50505050505050565b828001600101855582156101e7579182015b828111156101e7578251826000505591602001919060010190610aef565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905560050180548751828552938390209193601f60026001841615610100026000190190931692909204820184900483019390929190890190839010610b9057805160ff19168380011785555b50610a989291506101ef565b5090565b82800160010185558215610b80579182015b82811115610b80578251826000505591602001919060010190610ba2565b820191906000526020600020905b815481529060010190602001808311610bce57829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610c885780601f10610c5d57610100808354040283529160200191610c88565b820191906000526020600020905b815481529060010190602001808311610c6b57829003601f168201915b50505050600683015460078401546008909401549b9d9a9c50989a97999198600160a060020a03169792965091945092505050565b600192505b505092915050565b6007820154429082011115610cbd5760009250610cc2565b610cec8383610380565b15610cf657610002565b81600160a060020a031660001415610d0c573391505b6040805160208181018352428252600160a060020a039490941660009081526009840190945292209151909155600a0180543401905550565b820191906000526020600020905b815481529060010190602001808311610d5357829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610e0d5780601f10610de257610100808354040283529160200191610e0d565b820191906000526020600020905b815481529060010190602001808311610df057829003601f168201915b505050600684015460078501546008860154949950600160a060020a0391909116975095509193505050509193959799909294969850565b600160a060020a0389166000908152602081905260408120600101541415610f13576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610f41576000839052610f41906000805160206111608339815191529081019083016101ef565b601f0160209004906000526020600020908101906106cc91906101ef565b601f01602090049060005260206000209081019061070191906101ef565b505060018054600019019055506105e69050565b61111e60003411156100bd5760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548c9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a038a1660009081526020818152604082208b51600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928d0190839010610fff57805160ff19168380011785555b5061102f9291506101ef565b82800160010185558215610ff3579182015b82811115610ff3578251826000505591602001919060010190611011565b5050600160a060020a038916600090815260208181526040822060048101805460ff19168b17905588516005909101805481855293839020909360026101006001831615026000190190911604601f9081018490048201938b01908390106110aa57805160ff19168380011785555b506110da9291506101ef565b8280016001018555821561109e579182015b8281111561109e5782518260005055916020019190600101906110bc565b5050600160a060020a0389166000908152602081905260409020600681018054600160a060020a031916871790556007810185905560080183905560018054810190555b505050505050505050565b600354600160a060020a0383166000908152602081905260409020600101544203111561115857506000610226565b50600161022656405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace",
    unlinked_binary: "60606040526301e13380600355610e1060045542600555611180806100246000396000f3606060405236156100b95760e060020a60003504630aeacb5e81146100bf5780634806fa6b146100d55780634b70cec414610203578063515d68401461022b57806351cff8d914610273578063617fba04146102d157806362e1f745146103765780637629c4fb146103b95780637bcd7fad146103ea578063b5d1990d1461052f578063c29777fa14610538578063c3c5a547146107d9578063c3cecfdc14610807578063de5c48e014610810578063fa54416114610819575b61083f5b565b6001545b60408051918252519081900360200190f35b60408051602060248035600481810135601f810185900485028601850190965285855261083f958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a038781166000908152602081905260409020548116339091161415610ad4576040600090812087516003919091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918b0190839010610add57805160ff19168380011785555b50610b0d9291505b80821115610b8c57600081556001016101ef565b6100c3600435600160a060020a0381166000908152602081905260409020600101545b919050565b600160a060020a036004358181166000908152602081905260409020805461083f9390811633909116141561026f5760048101805460ff81161560ff199091161790555b5050565b600160a060020a0360043581811660009081526020819052604081205461083f9390811633909116141561026f576040808220600a018054908390559051909133600160a060020a031691839082818181858883f150505050505050565b6108416004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485948594909392909190830182828015610beb5780601f10610bc057610100808354040283529160200191610beb565b61094c6004356024355b600160a060020a0382811660009081526020818152604080832093851683526009840190915281205490919080831415610cca57610002565b61083f600435602435600160a060020a038216600090815260208190526040902060088101543414610ce257610002565b61096060043560006000600060206040519081016040528060008152602001506000602060405190810160405280600081526020015060006000600060006000600050600060026000508d8154811015610002575080546000805160206111608339815191528f0154600160a060020a03169092526020929092526040909220918c9081101561000257906000526020600020900160009054906101000a9004600160a060020a0316995089508060000160009054906101000a9004600160a060020a031698508850806001016000505497508750806003016000508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d705780601f10610d4557610100808354040283529160200191610d70565b6100c360015481565b60408051602060248035600481810135601f810185900485028601850190965285855261083f958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600454600554600091829142031115610e4557426005555b600154821015610e4557600280546000918291859081101561000257505050600080516020611160833981519152830154600160a060020a03168152602081905260409020600181015460035491925042031115610e45576002805460009182918590811015610002579082526000805160206111608339815191520181905461010091820a9004600160a060020a03168252602082019290925260400160009081208054600160a060020a0319168155600181810183905560028281018490556003830180548582559395909392831615026000190190911604601f819010610ec357505b5060048201805460ff191690556005820180546000825560026001821615610100026000190190911604601f819010610ee157505b5050600681018054600160a060020a031916905560006007820181905560088201819055600a9091015560015460028054909160001901908110156100025750600154815460008390527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd9190910154600160a060020a031691908490811015610002575060008051602061116083398151915284018054600160a060020a03191690921790915580546000198101808355909190828015829011610eff57818360005260206000209182019101610eff91906101ef565b61094c600435600160a060020a03811660009081526020819052604081206001015481141561112957610226565b6100c360035481565b6100c360045481565b610a7b600435600160a060020a0381811660009081526020819052604090205416610226565b005b6040518089600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108dd5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156109365780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b604051808a600160a060020a0316815260200189600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a0b5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f168015610a645780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190555b50505050505050565b828001600101855582156101e7579182015b828111156101e7578251826000505591602001919060010190610aef565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905560050180548751828552938390209193601f60026001841615610100026000190190931692909204820184900483019390929190890190839010610b9057805160ff19168380011785555b50610a989291506101ef565b5090565b82800160010185558215610b80579182015b82811115610b80578251826000505591602001919060010190610ba2565b820191906000526020600020905b815481529060010190602001808311610bce57829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610c885780601f10610c5d57610100808354040283529160200191610c88565b820191906000526020600020905b815481529060010190602001808311610c6b57829003601f168201915b50505050600683015460078401546008909401549b9d9a9c50989a97999198600160a060020a03169792965091945092505050565b600192505b505092915050565b6007820154429082011115610cbd5760009250610cc2565b610cec8383610380565b15610cf657610002565b81600160a060020a031660001415610d0c573391505b6040805160208181018352428252600160a060020a039490941660009081526009840190945292209151909155600a0180543401905550565b820191906000526020600020905b815481529060010190602001808311610d5357829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610e0d5780601f10610de257610100808354040283529160200191610e0d565b820191906000526020600020905b815481529060010190602001808311610df057829003601f168201915b505050600684015460078501546008860154949950600160a060020a0391909116975095509193505050509193959799909294969850565b600160a060020a0389166000908152602081905260408120600101541415610f13576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610f41576000839052610f41906000805160206111608339815191529081019083016101ef565b601f0160209004906000526020600020908101906106cc91906101ef565b601f01602090049060005260206000209081019061070191906101ef565b505060018054600019019055506105e69050565b61111e60003411156100bd5760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548c9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a038a1660009081526020818152604082208b51600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928d0190839010610fff57805160ff19168380011785555b5061102f9291506101ef565b82800160010185558215610ff3579182015b82811115610ff3578251826000505591602001919060010190611011565b5050600160a060020a038916600090815260208181526040822060048101805460ff19168b17905588516005909101805481855293839020909360026101006001831615026000190190911604601f9081018490048201938b01908390106110aa57805160ff19168380011785555b506110da9291506101ef565b8280016001018555821561109e579182015b8281111561109e5782518260005055916020019190600101906110bc565b5050600160a060020a0389166000908152602081905260409020600681018054600160a060020a031916871790556007810185905560080183905560018054810190555b505050505050505050565b600354600160a060020a0383166000908152602081905260409020600101544203111561115857506000610226565b50600161022656405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace",
    address: "0xe91f8e3f94f868e219009e41844deb2eecfc1cc7",
    generated_with: "2.0.9",
    contract_name: "SimpleDataMarket"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.SimpleDataMarket = Contract;
  }

})();
