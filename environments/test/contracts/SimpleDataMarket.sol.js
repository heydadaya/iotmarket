// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[],"name":"getTotalRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"name":"update","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getTime","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_seller","type":"address"}],"name":"toggleActive","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"withdraw","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getRecord","outputs":[{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"_deal","type":"address"},{"name":"_buyer","type":"address"}],"name":"checkAccess","outputs":[{"name":"access","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_deal","type":"address"},{"name":"_buyer","type":"address"}],"name":"buyAccess","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"rindex","type":"uint256"}],"name":"getRecordAtIndex","outputs":[{"name":"key","type":"address"},{"name":"owner","type":"address"},{"name":"time","type":"uint256"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"numRecords","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"},{"name":"desc","type":"string"},{"name":"active","type":"bool"},{"name":"help","type":"string"},{"name":"payTo","type":"address"},{"name":"secondsLength","type":"uint256"},{"name":"price","type":"uint256"}],"name":"register","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"isRegistered","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"key","type":"address"}],"name":"getOwner","outputs":[{"name":"","type":"address"}],"type":"function"}],
    binary: "6060604052610e80806100126000396000f3606060405236156100a35760e060020a60003504630aeacb5e81146100a95780634806fa6b146100bf5780634b70cec4146101ec578063515d68401461021457806351cff8d91461025c578063617fba04146102ba57806362e1f7451461035f5780637629c4fb146103a15780637bcd7fad146103d2578063b5d1990d14610529578063c29777fa14610532578063c3c5a5471461063c578063fa5441611461066a575b6106905b565b6001545b60408051918252519081900360200190f35b60408051602060248035600481810135601f8101859004850286018501909652858552610690958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a0387811660009081526020819052604090205481163390911614156109255760406000908120875160039091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918b019083901061092e57805160ff19168380011785555b5061095e9291505b808211156109d957600081556001016101d8565b6100ad600435600160a060020a0381166000908152602081905260409020600101545b919050565b600160a060020a0360043581811660009081526020819052604090208054610690939081163390911614156102585760048101805460ff81161560ff199091161790555b5050565b600160a060020a0360043581811660009081526020819052604081205461069093908116339091161415610258576040808220600a018054908390559051909133600160a060020a031691839082818181858883f150505050505050565b6106926004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485948594909392909190830182828015610a385780601f10610a0d57610100808354040283529160200191610a38565b61079d600435602435600160a060020a0382811660009081526020818152604080832093851683526009840190915281205490919080831415610b1857610002565b610690600435602435600160a060020a038216600090815260208190526040902060088101543414610b3057610002565b6107b160043560006000600060206040519081016040528060008152602001506000602060405190810160405280600081526020015060006000600060006000600050600060026000508d8154811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace8f0154600160a060020a03169092526020929092526040909220918c9081101561000257906000526020600020900160009054906101000a9004600160a060020a0316995089508060000160009054906101000a9004600160a060020a031698508850806001016000505497508750806003016000508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b945780601f10610b6957610100808354040283529160200191610b94565b6100ad60015481565b60408051602060248035600481810135601f8101859004850286018501909652858552610690958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a0387166000908152602081905260408120600101541415610c69576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610c9757818360005260206000209182019101610c9791906101d8565b61079d600435600160a060020a038116600090815260208190526040812060010154811415610e785761020f565b6108cc600435600160a060020a038181166000908152602081905260409020541661020f565b005b6040518089600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561072e5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156107875780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b604051808a600160a060020a0316815260200189600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561085c5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108b55780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190555b50505050505050565b828001600101855582156101d0579182015b828111156101d0578251826000505591602001919060010190610940565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905586516005909101805481855293839020909360026101006001831615026000190190911604601f9081018490048201938901908390106109dd57805160ff19168380011785555b506108e99291506101d8565b5090565b828001600101855582156109cd579182015b828111156109cd5782518260005055916020019190600101906109ef565b820191906000526020600020905b815481529060010190602001808311610a1b57829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610ad55780601f10610aaa57610100808354040283529160200191610ad5565b820191906000526020600020905b815481529060010190602001808311610ab857829003601f168201915b50505050600683015460078401546008850154939850600160a060020a0391909116965094509092505050919395975091939597565b600092505b505092915050565b6007820154429082011115610b0b5760019250610b10565b6040805160208181018352428252600160a060020a039490941660009081526009840190945292209151909155600a0180543401905550565b820191906000526020600020905b815481529060010190602001808311610b7757829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610c315780601f10610c0657610100808354040283529160200191610c31565b820191906000526020600020905b815481529060010190602001808311610c1457829003601f168201915b50505050600683015460078401546008850154939850600160a060020a03919091169650945090925050509193959799909294969850565b61092560003411156100a75760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548a9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a03881660009081526020818152604082208951600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928b0190839010610d5557805160ff19168380011785555b50610d859291506101d8565b82800160010185558215610d49579182015b82811115610d49578251826000505591602001919060010190610d67565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905586516005909101805481855293839020909360026101006001831615026000190190911604601f908101849004820193890190839010610e0057805160ff19168380011785555b50610e309291506101d8565b82800160010185558215610df4579182015b82811115610df4578251826000505591602001919060010190610e12565b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190556001805481019055610925565b50600161020f56",
    unlinked_binary: "6060604052610e80806100126000396000f3606060405236156100a35760e060020a60003504630aeacb5e81146100a95780634806fa6b146100bf5780634b70cec4146101ec578063515d68401461021457806351cff8d91461025c578063617fba04146102ba57806362e1f7451461035f5780637629c4fb146103a15780637bcd7fad146103d2578063b5d1990d14610529578063c29777fa14610532578063c3c5a5471461063c578063fa5441611461066a575b6106905b565b6001545b60408051918252519081900360200190f35b60408051602060248035600481810135601f8101859004850286018501909652858552610690958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a0387811660009081526020819052604090205481163390911614156109255760406000908120875160039091018054818452602093849020919360026001831615610100026000190190921691909104601f90810182900483019392918b019083901061092e57805160ff19168380011785555b5061095e9291505b808211156109d957600081556001016101d8565b6100ad600435600160a060020a0381166000908152602081905260409020600101545b919050565b600160a060020a0360043581811660009081526020819052604090208054610690939081163390911614156102585760048101805460ff81161560ff199091161790555b5050565b600160a060020a0360043581811660009081526020819052604081205461069093908116339091161415610258576040808220600a018054908390559051909133600160a060020a031691839082818181858883f150505050505050565b6106926004356040805160208181018352600080835283518083018552818152600160a060020a03868116835282845285832080546001828101546003840180548b51600294821615610100026000190190911693909304601f81018a90048a0284018a01909b528a83529290941698939796869485948594909392909190830182828015610a385780601f10610a0d57610100808354040283529160200191610a38565b61079d600435602435600160a060020a0382811660009081526020818152604080832093851683526009840190915281205490919080831415610b1857610002565b610690600435602435600160a060020a038216600090815260208190526040902060088101543414610b3057610002565b6107b160043560006000600060206040519081016040528060008152602001506000602060405190810160405280600081526020015060006000600060006000600050600060026000508d8154811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace8f0154600160a060020a03169092526020929092526040909220918c9081101561000257906000526020600020900160009054906101000a9004600160a060020a0316995089508060000160009054906101000a9004600160a060020a031698508850806001016000505497508750806003016000508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b945780601f10610b6957610100808354040283529160200191610b94565b6100ad60015481565b60408051602060248035600481810135601f8101859004850286018501909652858552610690958135959194604494929390920191819084018382808284375050604080516020606435808b0135601f8101839004830284018301909452838352979998359897608497509195506024919091019350909150819084018382808284375094965050933593505060a43591505060c435600160a060020a0387166000908152602081905260408120600101541415610c69576040600020426001828101919091558154600160a060020a0319163317825560028054928101839055908201808255828015829011610c9757818360005260206000209182019101610c9791906101d8565b61079d600435600160a060020a038116600090815260208190526040812060010154811415610e785761020f565b6108cc600435600160a060020a038181166000908152602081905260409020541661020f565b005b6040518089600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561072e5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156107875780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b604080519115158252519081900360200190f35b604051808a600160a060020a0316815260200189600160a060020a031681526020018881526020018060200187151581526020018060200186600160a060020a031681526020018581526020018481526020018381038352898181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561085c5780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108b55780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190555b50505050505050565b828001600101855582156101d0579182015b828111156101d0578251826000505591602001919060010190610940565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905586516005909101805481855293839020909360026101006001831615026000190190911604601f9081018490048201938901908390106109dd57805160ff19168380011785555b506108e99291506101d8565b5090565b828001600101855582156109cd579182015b828111156109cd5782518260005055916020019190600101906109ef565b820191906000526020600020905b815481529060010190602001808311610a1b57829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610ad55780601f10610aaa57610100808354040283529160200191610ad5565b820191906000526020600020905b815481529060010190602001808311610ab857829003601f168201915b50505050600683015460078401546008850154939850600160a060020a0391909116965094509092505050919395975091939597565b600092505b505092915050565b6007820154429082011115610b0b5760019250610b10565b6040805160208181018352428252600160a060020a039490941660009081526009840190945292209151909155600a0180543401905550565b820191906000526020600020905b815481529060010190602001808311610b7757829003601f168201915b50505050600483015460058401805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152959c5060ff939093169a50909250830182828015610c315780601f10610c0657610100808354040283529160200191610c31565b820191906000526020600020905b815481529060010190602001808311610c1457829003601f168201915b50505050600683015460078401546008850154939850600160a060020a03919091169650945090925050509193959799909294969850565b61092560003411156100a75760405133600160a060020a031690600090349082818181858883f15050505050565b5050600280548a9350909150600019810190811015610002575080547f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acd018054600160a060020a031916909217909155600160a060020a03881660009081526020818152604082208951600390910180548185529383902090946001851615610100026000190190941693909304601f90810183900484019391928b0190839010610d5557805160ff19168380011785555b50610d859291506101d8565b82800160010185558215610d49579182015b82811115610d49578251826000505591602001919060010190610d67565b5050600160a060020a038716600090815260208181526040822060048101805460ff19168917905586516005909101805481855293839020909360026101006001831615026000190190911604601f908101849004820193890190839010610e0057805160ff19168380011785555b50610e309291506101d8565b82800160010185558215610df4579182015b82811115610df4578251826000505591602001919060010190610e12565b5050600160a060020a0387166000908152602081905260409020600681018054600160a060020a03191685179055600781018390556008018190556001805481019055610925565b50600161020f56",
    address: "0xbba1ba0490139eb5b5706f558c67533b423001eb",
    generated_with: "2.0.9",
    contract_name: "SimpleDataMarket"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("SimpleDataMarket error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.SimpleDataMarket = Contract;
  }

})();
